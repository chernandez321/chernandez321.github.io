<!DOCTYPE html>
<html lang="en-us">

<head><title>
    
    Laboratorio De Ataques a Servicios Comunes - Fácil | 
    
    CHL Blog
</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="canonical" href="https://chlorenzo.com/pagina_web/blog/write-ups/htb/m%C3%B3dulos/laboratorio-de-ataques-a-servicios-comunes---medio/" />
<link rel="icon" type="image/png" href="https://chlorenzo.com/image/favicon.ico">


<meta name="description" content="
    Este laboratorio es un servidor Linux interno con servicios comunes expuestos. Realizamos una enumeración de puertos, extracción de registros DNS y análisis del servicio FTP en puertos no estándar.
    "
/>
<meta property="og:description" content="
    Este laboratorio es un servidor Linux interno con servicios comunes expuestos. Realizamos una enumeración de puertos, extracción de registros DNS y análisis del servicio FTP en puertos no estándar.
    " 
/>




<meta property="og:title" content="Laboratorio de Ataques a Servicios Comunes - Fácil" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chlorenzo.com/pagina_web/blog/write-ups/htb/m%C3%B3dulos/laboratorio-de-ataques-a-servicios-comunes---medio/" /><meta property="article:section" content="pagina_web" />
<meta property="article:published_time" content="2025-06-18T00:00:00+00:00" />
<meta property="article:modified_time" content="2025-06-18T00:00:00+00:00" />





  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Laboratorio de Ataques a Servicios Comunes - Fácil">
  <meta name="twitter:description" content="Este laboratorio es un servidor Linux interno con servicios comunes expuestos. Realizamos una enumeración de puertos, extracción de registros DNS y análisis del servicio FTP en puertos no estándar.">


  <meta itemprop="name" content="Laboratorio de Ataques a Servicios Comunes - Fácil">
  <meta itemprop="description" content="Este laboratorio es un servidor Linux interno con servicios comunes expuestos. Realizamos una enumeración de puertos, extracción de registros DNS y análisis del servicio FTP en puertos no estándar.">
  <meta itemprop="datePublished" content="2025-06-18T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-06-18T00:00:00+00:00">
  <meta itemprop="wordCount" content="418">
  <meta itemprop="keywords" content="Hackthebox,FTP,DNS,Zone-Transfer,Hydra,Enumeration,Credentials">




<link rel="stylesheet" href="https://chlorenzo.com/main.min.css">





<script src="https://chlorenzo.com/bundle.js"></script>







<script data-ad-client="adsense-key" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>




    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4G9W14SLG4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4G9W14SLG4');
</script>






</head>

<body><header id="header">
  <div class="top-bar">
    <div class="container-md">

      <div class="row align-items-center">
        <div class="col-3 col-sm-4 social-buttons d-none d-sm-block">
          <ul>
    
    

    
    <li>
        <a href="https://www.youtube.com/@CHL_Hands_On" target="_blank">
            <i class="fab fa-youtube"></i></a>
    </li>
    

    
    <li>
        <a href="https://www.instagram.com/19chl96/" target="_blank">
            <i class="fab fa-instagram"></i></a>
    </li>
    

    
    <li>
        <a href="https://github.com/chernadez321" target="_blank">
            <i class="fab fa-github"></i></a>
    </li>
    

    

    
    <li>
        <a href="https://www.linkedin.com/in/chlinked/" target="_blank">
            <i class="fab fa-linkedin"></i></a>
    </li>
    

</ul>
        </div>

        <div class="ra-toggler col-3 col-sm-4 d-block d-sm-none">
          <button class="bg-dark" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <i class="fas fa-bars"></i>
          </button>
        </div>

        <div class="col-6 col-sm-4">
          <h2 class="title"><a href="https://chlorenzo.com/">CHL Blog</a></h2>
        </div>

        
        <div class="col-3 col-sm-4">
          <div class="col col-md-8 offset-md-4 d-none d-sm-block">
            <form id="cse-search-box-form-id" class="input-group search-bar" onsubmit="return executeQuery('lg');"
              role="search">
              <input id="cse-search-input-box-id" type="text" class="form-control" placeholder="Search">
              <button class="btn" type="submit">
                <i class="fa fa-search"></i>
              </button>
            </form>
          </div>
        </div>
        

      </div>
    </div>
  </div>

  <div class="container-md">
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark sticky-top">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">

          <li class="nav-item d-block d-sm-none">
            <ul class="social-buttons">
              <ul>
    
    

    
    <li>
        <a href="https://www.youtube.com/@CHL_Hands_On" target="_blank">
            <i class="fab fa-youtube"></i></a>
    </li>
    

    
    <li>
        <a href="https://www.instagram.com/19chl96/" target="_blank">
            <i class="fab fa-instagram"></i></a>
    </li>
    

    
    <li>
        <a href="https://github.com/chernadez321" target="_blank">
            <i class="fab fa-github"></i></a>
    </li>
    

    

    
    <li>
        <a href="https://www.linkedin.com/in/chlinked/" target="_blank">
            <i class="fab fa-linkedin"></i></a>
    </li>
    

</ul>
            </ul>
          </li>

          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://chlorenzo.com/">
              Home
            </a>
          </li>
          
          
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
              Blog
            </a>
            <div class="dropdown-menu">
              
              
                <a class="dropdown-item" href="https://chlorenzo.com/pagina_web/blog/seguridad_para_todos/">Seguridad para todos</a>
              
              
              
                <a class="dropdown-item" href="https://chlorenzo.com/pagina_web/blog/write-ups/">Write-ups</a>
              
              
              
                <div class="dropdown-divider"></div>
              
              
              
                <a class="dropdown-item" href="https://chlorenzo.com/tags/">Búsqueda por etiquetas</a>
              
              
            </div>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://chlorenzo.com/pagina_web/trayectoria/">
              Trayectoria
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://chlorenzo.com/pagina_web/contact/">
              Contacto
            </a>
          </li>
          
          
        </ul>

        
        <form id="cse-search-box-form-id2" class="d-flex search-bar d-block d-sm-none"
          onsubmit="return executeQuery('xs');" role="search">
          <input id="cse-search-input-box-id2" type="text" class="form-control" placeholder="Search">
          <button class="btn" type="submit">
            <i class="fa fa-search"></i>
          </button>
        </form>
        

      </div>
    </nav>
  </div>
</header>

<main class="blog-content">
    <div class="container-md">
        <div class="row">
            
            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-left-offset"></div>
                
            </div>

            <div class="col-md-12 col-lg-8 px-lg-4">
                

                <h1 class="title">Laboratorio de Ataques a Servicios Comunes - Fácil</h1>

                <div class="container-fluid px-0 mb-4">
                    <div class="row align-items-end">
                        <div class="col-md-4 date-time">
                            <span class="date">
    Jun 18, 2025
</span>
                            &centerdot;
                            <span class="time-to-read">
    2 mins read</span>
                        </div>

                        <div class="col-md-8 tags ">
                            
                            <a href="https://chlorenzo.com/tags/hackthebox"><span
                                    class="tag bg-dark">hackthebox</span></a>
                            
                            <a href="https://chlorenzo.com/tags/ftp"><span
                                    class="tag bg-dark">ftp</span></a>
                            
                            <a href="https://chlorenzo.com/tags/dns"><span
                                    class="tag bg-dark">dns</span></a>
                            
                            <a href="https://chlorenzo.com/tags/zone-transfer"><span
                                    class="tag bg-dark">zone-transfer</span></a>
                            
                            <a href="https://chlorenzo.com/tags/hydra"><span
                                    class="tag bg-dark">hydra</span></a>
                            
                            <a href="https://chlorenzo.com/tags/enumeration"><span
                                    class="tag bg-dark">enumeration</span></a>
                            
                            <a href="https://chlorenzo.com/tags/credentials"><span
                                    class="tag bg-dark">credentials</span></a>
                            
                        </div>
                    </div>
                </div>

                

                <h4 id="enunciado">Enunciado</h4>
<p>El segundo servidor es un servidor interno (dentro del dominio <code>inlanefreight.htb</code>) que administra y almacena correos electrónicos y archivos, y sirve como respaldo de algunos procesos de la empresa. Según conversaciones internas, se utiliza con relativa poca frecuencia y, en la mayoría de los casos, hasta ahora solo se ha utilizado para pruebas.</p>
<p>Antes de nada debemos ir a nuestro <code>/etc/hosts</code> y añadir a nuestro registro la ip dada con el dominio <code>inlanefreight.htb</code>.
Recordemos también descargar los recursos que nos dan en el módulo de wordlists de usuarios y contraseñas.</p>
<h4 id="enumeración-de-puertos"><strong>Enumeración de puertos</strong></h4>
<p>Iniciamos la enumeración de servicios para identificar los puertos y protocolos activos en la máquina objetivo. Este escaneo se va a demorar un poco.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -p- --open -n -Pn &lt;IP&gt;
</span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/nmap1.png" alt="">
Vemos que tenemos los puertos 22, 53, 110, 995, 2121 y 30021 abiertos, vamos a recoger más información de los servicios que hay corriendo en cada puerto que nos salió a ver si vemos algo interesante.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>└─# nmap -sCV -p22,53,110,995,2121,30021 -n -Pn &lt;IP&gt;
</span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/nmap2.png" alt="">
Vemos con la información que tenemos que es un servidor Linux, donde tal cual nos dice en el enunciado es un servidor de correo comprobamos por la tecnología <code>Dovecot</code></p>
<p>Empezamos a hacer algunas consultas al dns:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>dig any inlanefreight.htb @&lt;IP&gt;
</span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/dns1.png" alt="">
Vemos que nos va devolviendo el <code>ns.inlanefreight.htb</code>
A continuación consultamos la copia de los registros del servidor DNS</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>dig axfr inlanefreight.htb @&lt;IP&gt;
</span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/dns2.png" alt=""></p>
<p>Y obtenemos esto. Lo que debemos añadir a nuestro <code>/etc/hosts</code> para seguir consultando información.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>10.129.201.127    inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.200.5      app.inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.100.10     dc1.inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.200.10     dc2.inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.201.127    int-ftp.inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.200.70     int-nfs.inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.201.127    ns.inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.200.142    un.inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.200.101    ws1.inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.200.102    ws2.inlanefreight.htb
</span></span><span style="display:flex;"><span>10.129.200.80     wsus.inlanefreight.htb
</span></span></code></pre></div><p>Luego de haber hecho algunas consultas mas no obtuve información valiosa con lo cual decidi cambiar de servicio y tiramos por FTP.</p>
<p>El servicio FTP vemos que está en el puerto 2121 y 30021
Al intentar con login anónimo por el 2121 no nos deja sin embargo cuando lo intentamos por el puerto 30021 si nos deja.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ftp &lt;IP&gt; <span style="color:#ae81ff">30021</span>
</span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/ftp1.png" alt=""></p>
<p>Vemos un directorio que se llama <code>simon</code> y un archivo <code>mynotes.txt</code>. El cual nos lo descargamos para revisarlo.
<img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/ftp2.png" alt="">
Y vemos como contraseñas. Intentamos utilizarlas</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hydra -l simon -P mynotes.txt ftp://10.129.201.127 -s <span style="color:#ae81ff">2121</span>
</span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/ftp3.png" alt=""></p>
<p>Entramos al servicio por el puerto 2121 con las credenciales</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ftp &lt;IP&gt; <span style="color:#ae81ff">2121</span>
</span></span><span style="display:flex;"><span>simon 
</span></span><span style="display:flex;"><span>8Ns8j1b!23hs4921smHzwn
</span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/ftp4.png" alt=""></p>
<p>Descargamos todo lo que hay para revisarlo en local
<img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/ftp5.png" alt=""></p>
<p><img src="../../../../../images/HTB_modulos/common_services_htb_labs_2/ftp6.png" alt="">
Cuando leemos los archivos ya tenemos la flag.</p>
<p>Si te sirvió de algo este tutorial ya para mi es más que suficiente, si me puedes decir en que podemos mejorar te lo voy a agradecer un montón.</p>


                <div id="social-media-share">
	<p><i>Escríbeme por cualquiera de las vías</i></p>
	
	<div class="share-buttons">
	    
		<a href="https://www.instagram.com/19chl96/" 
   			target="_blank" 
   			title="Sígueme en Instagram">
    		<img src=https://chlorenzo.com/icons/45px/instagram.png alt="Instagram">
		</a>

		<a  href="https://www.linkedin.com/in/chlinked/"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on LinkedIn. Opens in a new window." >
	        <img src=https://chlorenzo.com/icons/48px/linkedin.png>
	    </a>

	    <a href="https://mail.google.com/mail/?view=cm&fs=1&to=chlorenzo96@gmail.com&su=Para Carlos&body=Hola." 
   		   target="_blank" 
   		   title="Enviar correo usando Gmail">
    	<img src=https://chlorenzo.com/icons/48px/email.png alt="Email">
		</a>

		

	</div>
</div>



                
                <br>
                <div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = '';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </div>

            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-right-offset"></div>
                
            </div>
        </div>
    </div>
</main>

<footer class="bg-dark text-light py-4">
    <div class="container-md">
        <div class="row justify-content-center">
            <div class="col-12">
                <nav class="navbar navbar-expand-sm navbar-dark bg-dark justify-content-center">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="https://chlorenzo.com/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://chlorenzo.com/pagina_web/blog/seguridad_para_todos/">Seguridad para todos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://chlorenzo.com/pagina_web/blog/write-ups/">Write-ups</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
    <div class="text-center mt-3">
        <p>© 2025 Carlos Hernández Lorenzo</p>
    </div>
</footer>


<script async src="https://cse.google.com/cse.js?cx=google-cse-key"></script>
<gcse:searchresults-only></gcse:searchresults-only>

</body>

</html>